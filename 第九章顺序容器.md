# 第九章顺序容器
### 9.1 顺序容器的概述
```
vector 可变大小
       支持随机访问
       在尾部之外的地方插入数据可能会很慢
deque  
     支持随机快速访问
     从头和尾删除会很快
list
    双端链表
    只支持双向顺序访问
    删除插入会很快
forward_list
    单项链表
    单项访问
    插入数据很快

    没有size() 
array
    固定大小
    支持随机访问
    不能添加删除元素
string
  保存字符的,类似于vector
  访问速度快
  在尾部插入删除速度快
```
#### 确定使用哪种数组
```
程序要求随机访问 vector 或 deque
程序有过多的删除 插入 并且没有顺序 list 或 forward_list
程序大部分情况再两端添加 删除 deque
```
## 9.2容器库概览
```
#inlcude<deque>
#inlcude<list>
#inlcude<vector>


容器有些操作对元素有特殊要求
元素必须满足哪些要求

例如
vector<class>vec(10);
  vector 10个默认元素 那么class必须要有默认构造函数(没有参数的构造函数)

```
#### 9.2练习
[code](./codes/chapter9/9_2.cpp)
### 9.2.1 迭代器
```
note:
  forward_list 的迭代器不支持 --;
```
#### 使用左闭合范围蕴含的编程假定
```
begin==end
  范围为空
begin!=end 范围至少一个元素

```
#### 9.2.1练习
[code](./codes/chapter9/9_2_1.cpp)

### 9.2.2 容器类型成员
```
vector<int>::value_type
list<string>::value_type
```
### 9.2.3 begin 和 end成员
```
cbegin()  cend()  const_iterator
rbegin  rend reverse_iterator
begin  iteartor
crbegin crend  const_reverse_iterator


begin 存在一个重载函数
const 容器对象 返回 const_iterator (const 函数的重载)
非容器返回  iterator

note:当不需写cbegin的时候使用cbegin
```
### 9.2.4 容器的定义和初始化
```
除了array
其他容器通过默认的初始化创建一个空容器
都可以指定容器大小和初始值参数

默认构造
C c;
拷贝构造  note array 必须大小一样
C c1(c2)
C c1=c2
初始化列表 列表中的元素是拷贝
array 必须小于 或等于  小于部分会默认初始化
C c{1,2,3}
C c={1,2,3}

制定迭代器位置的拷贝,array 不适用
C c(b,e)

array 不适用 
C seq(n) n给初始值
C seq(n,t) n个T
```
#### 将一个容器初始化为另一个容器拷贝
```
两种方式
array 不适合
C c(begin,end) ; 可以考取部分
array 两个数字大小必须一样大
C c(c2) ;

note:
相互拷贝时 元素的类型 和 容器的类型必须相同
```
#### 列表初始化
```
除了array
例如
vector<string> v{"1","2"};
v的大小2 
```
#### 与顺序容器相关的的构造函数
```
vector<int> iv(10,1);
list<int>ilst(10,1);
forward_list<int> iflst(10,1);
deque<int>idque(10)
string str(10,'c')

note:
只有顺序容器支持,关联容器不支持
```
#### 标准库具有固定大小
```
array<int,10> 大小为10

由于array 需要传入大小 一个默认的array 是非空的

默认数组不允许拷贝 赋值
标准库数组可以

array 拷贝 赋值必须 大小相同
```
#### 9.2.4练习
[code](./codes/chapter9/9_2_4.cpp)

### 9.2.5 赋值和 swap
```
赋值
c1=c2;c1全是c2的内容
c1={1,2,3};c1大小为3 


标准库
array 允许赋值 必须 类型相同
array<int,10> a1={1};
array<int,10> a2={2};
a1=a2;
a2={1};//错误 不能将花阔付的列表复制给数组


容器运算
c1=c2;
c={1,2,3}  (array不适用)
swap(c1,c2) 交换
c1.swap(2)

assign 不适用关联容器和array
seq.assign(b,e) 将seq元素替换为迭代器元素
seq(il) 替换为il的元素
seq.assign(n,t); 指定为n个t元素
``` 
#### 使用assign(仅顺序容器)
```
assign
  允许从不同但相容的容器赋值 或者赋值一个子序列

list<string> names;
vector<const char *>oldstypel;
names.assign(old.begin(),old.cend());



a.assign(10,1)10个1

```
#### 使用swap
```
swap 必须要使用两个相同的容器进行交换

swap 的效率非常高

swap 不会导致迭代器失效,但是交换之后就不属于同一个容器了

note:string 会导致迭代器失效


swap 数组
   会真正交换数组元素,swap 数组迭代器 不会改变,但是指向的值已经改变

swap两种版本
非成员函数 建议使用
成员函数版本

```
#### 9.2.5练习
[code](./codes/chapter9/9_2_5.cpp)

### 9.2.6 容器大小操作
```
size()
empt()
max_size() 返回大于或等于容器能容纳最大元素的值

note:
forward_list 支持 max_size empty
不支持 size
```
#### 9.2.7 关系运算符
```
== != 
每个容器都支持 关系容器+顺序容器

> >= <  <=
关系容器支持

只允许同类型容器之间进行比较

比较符号的比较规则
大小相同  元素一一相等  则相等

容器大小不同
  小容器每个元素都大于大容器 则 小容器大

  比较结果取决于第一个不同的元素的大小
```
#### 容器的关系运算符使用元素的关系运算符比较
```
note:
  只有当元素类也具有关系运算符的比较能力才能用于两个容器的比较


```

#### 9.2.7练习
[code](./codes/chapter9/9_2_7.cpp)

## 9.3 顺序容器操作
```
除了array 标准的库的容器提供灵活的内存管理

非 array 添加元素的操作

push_back(v); forward_list不支持 
emplace_back(v); forward_list不支持 

strring 和  vector 不支持 内部实现 数组 
push_front();
emplace_front();

向得带起之前插入一个t 或args元素,返回指向的新迭代器
insert(p,t)
emplace(p.argd)

insert(p,n,t) 向迭代器支持插入 n个t元素,返回插入第一个元素的迭代器
insert(p,b,e) 向迭代器插入  迭代器b到e的元素 返回返回插入第一迭代器,若b到e没有元素返回p

insert(p,il) 向迭代器插入 元素列表 返回插入第一个元素的迭代器

note:向vector string 和 deque 插入元素后迭代器会失效
```
#### push_back
```
push_back()
array forward_lsit 不支持

list vector deque 支持

push_back()一个元素的一个拷贝
```
#### push_fornt
```
list deque 支持

array vector 不支持

```
#### 在容器中特定的位置添加元素
```
vector deque list string 都支持insert
forward_list 支持特殊版本insert

insert(iter,v) 将v插入 iter 之前

insert(itera,10,v);在itera 掐面插入10个v元素
返回第一元素

insert(iter,v.end()-2,v.end()) 将v的最后两个元素插入 iter前面

c++11 
insert() 返回插入新版本的迭代器
旧版本 void
```
#### 使用emplace操作
```
insert() push_front push_back() 拷贝

emplace()
emplace_fornt();
emplace_back();

emplace 使用这些在容器中作为参数传递给元素直接构造

```
### 9.3.2 访问元素
```
forward_list （iter 不能 --iter）


在顺序容器找那个访问元素

at
  string vector array deque 
back() 
  返回尾元素引用
front()返回首元素引用

c[n]

at(n) 超出容器下标抛出异常 out_of_range




```
#### 9.3.2练习
[code](./codes/chapter9/9_3_2.cpp)

### 9.3.3 删除元素
```
c.pop_back();
   删除尾巴的元素
   forward_list 不支持
c.pop_front()
  删除开头的元素
  vector string 不支持 pop_front
c.erase(p)
  p 删除迭代器指向的元素
  删除成功返回 当前迭代器后一个的元素
c.erase(p,e) 删除b,e 范围的元素 删除成功返回e后一个元素
c.clear() 删除 c中的所有元素


note:在删除之前我们必须判断存在
```
#### pop_front 和 pop_back成员函数
```

```